<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Ical-slides by nathangray</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/blitzer/jquery-ui.css"/>
	<link rel="stylesheet" href="css/slides.css"/>
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Ical-slides</h1>
        <p class="header">Create images to be used as slides from the events in an iCal file</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/nathangray/iCal-Slides/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/nathangray/iCal-Slides/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/nathangray/iCal-Slides">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/nathangray">nathangray</a></p>


      </header>
      <section>
        <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Event slides</h3>

<p>This script parses the iCal file and extracts events, then generates a slide image for each event.</p>
<p>The idea is you can then use these slides in presentation to announce upcoming events.</p>
<h3>
<a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demo</h3>


 	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"   integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="   crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.2/moment.min.js"></script>
	<script src="https://cdn.rawgit.com/luisfarzati/moment-interval/master/src/moment-interval.js"></script>
	<script src="js/ijp.js"></script>
	<script src="js/rrule.js"></script>
	<script src="js/nlp.js"></script>
	<script src="js/slider.js"></script>
	      

    <section id="messages"></section>
	<fieldset>
		<label for="start_date">Dates</label>
		<input type="date" id="start_date"/>
		-
		<input type="date" id="end_date"/>
	</fieldset>
	<fieldset>
		<label for="template">Theme</label>
		<select id="template" name="template" class="thumbnail">
			<option value="plain" data-style="background-image: none;">Plain</option>
			<option value="blue_flowers" data-style="background-image: url(&apos;images/blue_flowers.jpg&apos;);">Blue flowers</option>
			<option value="brown_vintage" data-style="background-image: url(&apos;images/brown_vintage.jpg&apos;);">Brown vintage</option>
			<option value="paisly_on_black" data-style="background-image: url(&apos;images/paisly_on_black.jpg&apos;);">Paisly on black</option>
		</select>
	</fieldset>
	<fieldset>
		<label for="file">Select iCal file:</label>
		<input id="file" type="file" name="file" onchange="fileChanged(event)" class="ui-widget"/>
	</fieldset>
	<section id="output"></section>
	<p>Click slide to download as image</p>
  <script>
	  // Renderer for theme menu
	  $.widget( "custom.iconselectmenu", $.ui.selectmenu, {
      _renderItem: function( ul, item ) {
        var li = $( "<li>" ),
          wrapper = $( "<div>", { text: item.label } );

        if ( item.disabled ) {
          li.addClass( "ui-state-disabled" );
        }

        $( "<span>", {
          style: item.element.attr( "data-style" ),
          "class": "ui-icon " + item.element.attr( "data-class" )
        })
          .appendTo( wrapper );

        return li.append( wrapper ).appendTo( ul );
      }
    });

	/**
	 * Load & parse a local iCal file
	 */
	function fileChanged(event) {
		jQuery('#output').empty();
		for(var i = 0; i < event.target.files.length; i++)
		{
			var file = event.target.files[i];
			SlideMaker.makeSlides(file,
				moment(jQuery('#start_date').val()),
				moment(jQuery('#end_date').val())
			);
		}
	}

	 jQuery(document).ready(function() {
		// initialize dates
		jQuery('#start_date').val(moment().startOf('week').add(1,'w').format('YYYY-MM-DD'));
		jQuery('#end_date').val(moment().endOf('week').add(1,'w').format('YYYY-MM-DD'));

		jQuery('#template').iconselectmenu({
			change: function() {
				jQuery('#output').empty();
				SlideMaker.setTemplate(this.value);
				var file_node = jQuery('#file')[0];
				if(file_node && file_node.files && file_node.files.length)
				{
					for(var i = 0; i < file_node.files.length; i++)
					{
						var file = file_node.files[i];
						SlideMaker.makeSlides(file,
							moment(jQuery('#start_date').val()),
							moment(jQuery('#end_date').val())
						);
					}
				}
			}
		})
			.iconselectmenu()
			.iconselectmenu( "menuWidget" )
			.addClass( "ui-menu-icons thumbnail" );

		// Tell it where to put messages
		SlideMaker.setMessageNode(document.getElementById('messages'));
	});
</script>

		<h3>
		<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h3>
		<p>
		If you want to download and run it locally, it must be served - it cannot be run straight from the filesystem or you'll get security errors, and the downloaded images will not look right.
		This script requires:
		<ul><li>iCal Parser - https://github.com/peterbraden/ical.js (copied & included)</li>
			<li>RRule & NLP - https://github.com/jkbrzt/rrule (copied & included)</li>
			<li>jQuery - http://jquery.com</li>
			<li>jQueryUI - http://jqueryui.com</li>
			<li>Moment - http://momentjs.com</li>
			<li>Moment Interval - https://github.com/luisfarzati/moment-interval</li>
		</ul>
		</p>
     </section>

      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
